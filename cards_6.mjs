import u from"https://cdn.jsdelivr.net/gh/Ankush12389/monaco-cdn@main/react_1602.mjs";import l from"https://esm.sh/v135/prop-types@15.8.1/es2022/prop-types.mjs";import m from"https://esm.sh/v135/payment@2.4.6/es2022/payment.mjs";function h(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(t){return typeof t}:h=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(e)}function N(e,r){return k(e)||R(e,r)||S(e,r)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(e,r){if(e){if(typeof e=="string")return E(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,r)}}function E(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function R(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],i=!0,c=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(i=(o=s.next()).done)&&(t.push(o.value),!(r&&t.length===r));i=!0);}catch(n){c=!0,a=n}finally{try{!i&&s.return!=null&&s.return()}finally{if(c)throw a}}return t}}function k(e){if(Array.isArray(e))return e}function A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function O(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,r,t){return r&&O(e.prototype,r),t&&O(e,t),e}function P(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&b(e,r)}function b(e,r){return b=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},b(e,r)}function j(e){var r=$();return function(){var i=_(e),c;if(r){var a=_(this).constructor;c=Reflect.construct(i,arguments,a)}else c=i.apply(this,arguments);return I(this,c)}}function I(e,r){return r&&(h(r)==="object"||typeof r=="function")?r:L(e)}function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(e)}function w(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var g=function(e){P(t,e);var r=j(t);function t(i){var c;return A(this,t),c=r.call(this,i),c.setCards(),c}return T(t,[{key:"componentDidUpdate",value:function(c){var a=this.props,s=a.acceptedCards,o=a.callback,n=a.number;c.number!==n&&typeof o=="function"&&o(this.options,m.fns.validateCardNumber(n)),c.acceptedCards.toString()!==s.toString()&&this.setCards()}},{key:"setCards",value:function(){var c=this.props.acceptedCards,a=[];c.length?m.getCardArray().forEach(function(s){c.indexOf(s.type)!==-1&&a.push(s)}):a=a.concat(m.getCardArray()),m.setCardArray(a)}},{key:"render",value:function(){var c=this.props,a=c.cvc,s=c.focused,o=c.locale,n=c.name,p=c.placeholders,f=this.number,d=this.expiry;return u.createElement("div",{key:"Cards",className:"rccs"},u.createElement("div",{className:["rccs__card","rccs__card--".concat(this.issuer),s==="cvc"&&this.issuer!=="amex"?"rccs__card--flipped":""].join(" ").trim()},u.createElement("div",{className:"rccs__card--front"},u.createElement("div",{className:"rccs__card__background"}),u.createElement("div",{className:"rccs__issuer"}),u.createElement("div",{className:["rccs__cvc__front",s==="cvc"?"rccs--focused":""].join(" ").trim()},a),u.createElement("div",{className:["rccs__number",f.replace(/ /g,"").length>16?"rccs__number--large":"",s==="number"?"rccs--focused":"",f.substr(0,1)!=="\u2022"?"rccs--filled":""].join(" ").trim()},f),u.createElement("div",{className:["rccs__name",s==="name"?"rccs--focused":"",n?"rccs--filled":""].join(" ").trim()},n||p.name),u.createElement("div",{className:["rccs__expiry",s==="expiry"?"rccs--focused":"",d.substr(0,1)!=="\u2022"?"rccs--filled":""].join(" ").trim()},u.createElement("div",{className:"rccs__expiry__valid"},o.valid),u.createElement("div",{className:"rccs__expiry__value"},d)),u.createElement("div",{className:"rccs__chip"})),u.createElement("div",{className:"rccs__card--back"},u.createElement("div",{className:"rccs__card__background"}),u.createElement("div",{className:"rccs__stripe"}),u.createElement("div",{className:"rccs__signature"}),u.createElement("div",{className:["rccs__cvc",s==="cvc"?"rccs--focused":""].join(" ").trim()},a),u.createElement("div",{className:"rccs__issuer"}))))}},{key:"issuer",get:function(){var c=this.props,a=c.issuer,s=c.preview;return s&&a?a.toLowerCase():this.options.issuer}},{key:"number",get:function(){var c=this.props,a=c.number,s=c.preview,o=s?19:this.options.maxLength,n=typeof a=="number"?a.toString():a.replace(/[A-Za-z]| /g,"");for(isNaN(parseInt(n,10))&&!s&&(n=""),o>16&&(o=n.length<=16?16:o),n.length>o&&(n=n.slice(0,o));n.length<o;)n+="\u2022";if(["amex","dinersclub"].indexOf(this.issuer)!==-1){var p=[0,4,10],f=[4,6,5];n="".concat(n.substr(p[0],f[0])," ").concat(n.substr(p[1],f[1])," ").concat(n.substr(p[2],f[2]))}else if(n.length>16){var d=[0,4,8,12],y=[4,7];n="".concat(n.substr(d[0],y[0])," ").concat(n.substr(d[1],y[0])," ").concat(n.substr(d[2],y[0])," ").concat(n.substr(d[3],y[1]))}else for(var v=1;v<o/4;v++){var x=v*4+(v-1);n="".concat(n.slice(0,x)," ").concat(n.slice(x))}return n}},{key:"expiry",get:function(){var c=this.props.expiry,a=c===void 0?"":c,s=typeof a=="number"?a.toString():a,o="",n="";if(s.indexOf("/")!==-1){var p=s.split("/"),f=N(p,2);o=f[0],n=f[1]}else s.length&&(o=s.substr(0,2),n=s.substr(2,6));for(;o.length<2;)o+="\u2022";for(n.length>2&&(n=n.substr(2,4));n.length<2;)n+="\u2022";return"".concat(o,"/").concat(n)}},{key:"options",get:function(){var c=this.props.number,a=m.fns.cardType(c)||"unknown",s=16;return a==="amex"?s=15:a==="dinersclub"?s=14:["hipercard","mastercard","visa"].indexOf(a)!==-1&&(s=19),{issuer:a,maxLength:s}}}]),t}(u.Component);w(g,"propTypes",{acceptedCards:l.array,callback:l.func,cvc:l.oneOfType([l.string,l.number]).isRequired,expiry:l.oneOfType([l.string,l.number]).isRequired,focused:l.string,issuer:l.string,locale:l.shape({valid:l.string}),name:l.string.isRequired,number:l.oneOfType([l.string,l.number]).isRequired,placeholders:l.shape({name:l.string}),preview:l.bool});w(g,"defaultProps",{acceptedCards:[],locale:{valid:"valid thru"},placeholders:{name:"YOUR NAME HERE"},preview:!1});var z=g;export{z as default};
